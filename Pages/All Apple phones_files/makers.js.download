$gsm.onload(function(){function e(){const e=2,t=c.length<e?"":c.length,s=c.length<e?"none":"initial";i.innerText=t,i.style.display=s}const t=location.host.match(/^m\./)?2:3,s="compare.php3?",o=document.querySelector(".makers"),n=o.querySelectorAll("li"),c=[],l=document.querySelector(".compare-button"),i=$gsm.tag("span",{class:"count"},"",l);l.onclick=function(t){if(0==c.length)$gsm.toggleClass(o,"compare-mode"),e();else{const t=[];for(let e=0;e<c.length;e++){c[e].querySelector("a");const s=(c[e].querySelector("a").href.match(/-(\d+)\.php/)||[0,0])[1];t.push("idPhone"+(e+1)+"="+s)}window.location=s+t.join("&"),e()}t.preventDefault()};for(let s=0;s<n.length;s++)n[s].addEventListener("click",function(s){if(!$gsm.hasClass(o,"compare-mode"))return;const n=84;if(!(s.offsetY>n||s.offsetX<this.offsetWidth-n)){if($gsm.hasClass(this,"checked")){$gsm.removeClass(this,"checked");const e=c.indexOf(this);c.splice(e,1)}else{$gsm.addClass(this,"checked"),c.push(this);const e=c.splice(t);for(let t=0;t<e.length;t++)$gsm.removeClass(e[t],"checked")}e(),s.preventDefault()}})});